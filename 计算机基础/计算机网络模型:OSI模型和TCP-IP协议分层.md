
## 计算机网络模型：OSI七层模型和TCP/IP模型及对应协议

### 一、OSI七层模型

![](https://raw.githubusercontent.com/yuefei-su/My-DrawingBed/main/notes/20220314190935.png)

七层模型从上到下依次是：

- 应用层：协议有：**HTTP** FTP TFTP SMTP SNMP **DNS** TELNET **HTTPS** POP3 DHCP
- 表示层：数据的表示、安全、压缩。格式有，JPEG、ASCll、DECOIC、加密格式等
- 会话层：建立、管理、终止会话。对应主机进程，指本地主机与远程主机正在进行的会话
- 传输层：定义传输数据的协议端口号，以及流控和差错校验。协议有：**TCP UDP**，数据包一旦离开网卡即进入网络传输层
- 网络层：进行逻辑地址寻址，实现不同网络之间的路径选择。协议有：ICMP IGMP **IP（IPV4 IPV6）** ARP RARP
- 数据链路层：建立逻辑连接、进行硬件地址寻址、差错校验等功能。将比特组合成字节进而组合成帧，用MAC地址访问介质，错误发现但不能纠正。
- 物理层：建立、维护、断开物理连接。

### 二、OSI七层模型对应协议
![](https://raw.githubusercontent.com/yuefei-su/My-DrawingBed/main/notes/20220314191523.png)

### 三、OSI七层模型与TCP/IP五层模型对应
![](https://raw.githubusercontent.com/yuefei-su/My-DrawingBed/main/notes/20220314192549.png)


### 四、OSI七层模型传输数据过程
为了实现对等层通信，当数据需要通过网络从一个节点传送到另一个节点时，**必须在数据的头部（和尾部）加入特定的协议头（和协议尾）**。这种增加数据头部（和尾部）的过程叫作数据的**封装**。同样，当数据到达接收方时，接收方要识别和提取协议信息，这个过程叫作数据的解封，显示了数据的封装与解封过程。  

![](https://raw.githubusercontent.com/yuefei-su/My-DrawingBed/main/notes/20220314191550.png)  

1. 当发送端的应用进程需要发送数据到网络中另一台主机的应用进程时，数据首先被传送给应用层，应用层为数据加上本层的控制报头信息后，传递给表示层。
2. 表示层接收到这个数据单元后，加上本层的控制报头信息，然后传送到会话层。
3. 同样，会话层加上本层的报头信息后再传递给传输层。
4. 传输层接收到这个数据单元后，加上本次的控制报头，形成传输层的协议数据单元PDU，然后传送给网络层。通常将传输层的PDU称为段（Segment）。
5. 传输层报文送到网络层后，由于网络层的数据长度往往有限制，所以，从传输层过来的长数据段会被分成多个较小的数据段，分别加上网络层的控制信息后形成网络层的PDU传送。常常把网络层的PDU叫作分组（Packet）。
6. 网络层的分组继续向下层传送，到达数据链路层，加上数据链路层的控制信息，构成数据链路层的协议数据单元，称为帧（Frame）。
7. 数据链路层的帧被继续传送，到达物理层，物理层将数据信息以比特（Bit）流的方式通过传输介质传送出去。
8. 如果发送的数据信息不能直接到达目标计算机，则会先传送到通信子网的路由设备上进行存储，后再转发。
9. 当最终到达目标节点时，比特流将通过物理层依次向上传送。每层对其相应的控制信息进行识别和处理；然后将去掉该层控制信息的数据提交给上层处理；最后，发送进程的数据就传到接收方的接收进程。

